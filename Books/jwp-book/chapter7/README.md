# 7장 DB를 활용해 데이터를 영구적으로 저장하기

데이터를 영구적으로 저장하고 조회할 필요가 있는데 이 문제에 대한 해결책은 데이터베이스 서버를 도입해 해결할 수 있다.
자바 진영은 JDBC라는 표준을 통해 데이터베이스와의 통신을 담당하도록 지원하고 있다.

## 7.1 회원 데이터를 DB에 저장하기 실습

### 7.1.1 실습 코드 리뷰 및 JDBC 복습

자바 진영은 데이터베이스에 대한 접근 로직 처리를 담당하는 객체를 별도로 분리해 구현하는 것을 추천한다.
이 객체를 `DAO(Data Access Object)`라고 부른다.

### 7.1.2 회원 목록 실습

### 7.1.3 개인정보 수정 실습

## 7.2 DAO 리팩토링 실습

[expert one-on-one J2EE 설계와 개발](http://www.yes24.com/Product/Goods/428809)(로드 존슨 저/자바 유저스 번역팀 역, 정보문화사/2004년) 책의 "4장 J2EE 프로젝트의 설계 기술 및 코딩 표준"을 보면 컴파일타입 Exception과 런타임 Exception을 사용해야 되는 가이드라인을 다음과 같이 제시하고 있다.

- API를 사용하는 모든 곳에서 이 예외를 처리해야 하는가?
  예외가 반드시 메소드에 대한 반환 값이 되어야 하는가?
  이 질문에 대한 답이 "예"일 경우 컴파일타임 Exception을 사용해 컴파일러의 도움을 받는다.
- API를 사용하는 소수 중 이 예외를 처리해야 하는가?
  이 질문에 대한 답이 "예"일 경우 런타임 Exception으로 구현한다.
  API를 사용하는 모든 코드가 Exception을 catch하도록 강제하지 않는 것이 좋다.
- 무엇인가 큰 문제가 발생했는가?
  이 문제를 복구할 방법이 없는가?
  이 질문에 대한 답이 "예"라면 런타임 Exception으로 구현한다.
  API를 사용하는 코드에서 Exception을 catch하더라도 에러에 대한 정보를 통보 받는 것 외에 아무것도 할 수 있는 것이 없다.
- 아직도 불명확한가?
  그렇다면 런타임 Exception으로 구현하라.
  Exception에 대해 문서화하고 API를 사용하는 곳에서 Exception에 대한 처리를 결정하도록 하라.

### 7.2.1 요구사항

JDBC에 대한 공통 라이브러리를 만들어 개발자가 SQL 쿼리, 쿼리에 전달할 인자, SELECT 구문의 경우 조회한 데이터를 추출하는 3가지 구현에만 집중하도록 해야한다.

### 7.2.2 요구사항 분리 및 힌트

1. INSERT, UPDATE 쿼리는 비슷하기 때문에 먼저 INSERT, UPDATE 쿼리를 가지는 메소드의 중복 제거 작업을 진행한다.

To be continued...